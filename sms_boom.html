<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SMS B00M - SPECIAL CELL</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* (‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶ï‡ßã‡¶° (CSS) ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ CSS ‡¶Ö‡¶ï‡ßç‡¶∑‡ßÅ‡¶£‡ßç‡¶® ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§) */
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #00111a 0%, #000000 100%);
      font-family: 'Poppins', sans-serif;
      color: #00eaff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    header {
      text-align: center;
      margin-bottom: 40px;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0 0 15px #00eaff, 0 0 25px #00eaff;
      letter-spacing: 2px;
    }
    .back-btn {
      position: absolute;
      bottom: 40px;
      padding: 15px 25px;
      border-radius: 10px;
      background: #001820;
      color: #00eaff;
      font-size: 18px;
      font-weight: bold;
      border: 1px solid #00eaff55;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 0 8px #00eaff55;
      transition: 0.3s;
    }
    .back-btn:hover {
      background: #002a33;
      box-shadow: 0 0 15px #00eaffaa;
      transform: scale(1.05);
    }
    .boom-container {
      width: 90%;
      max-width: 450px;
      padding: 30px;
      background: #001820;
      border-radius: 15px;
      box-shadow: 0 0 30px #00eaffaa;
      border: 2px solid #00eaff;
      animation: pulse-border 1.5s infinite alternate;
      margin-bottom: 120px;
    }
    @keyframes pulse-border {
      from { border-color: #00eaff; box-shadow: 0 0 30px #00eaffaa; }
      to { border-color: #0088aa; box-shadow: 0 0 40px #00eaffcc; }
    }
    .form-group { margin-bottom: 25px; }
    label {
      display: block;
      margin-bottom: 10px;
      font-size: 18px;
      font-weight: 700;
      color: #00eaff;
      text-shadow: 0 0 5px #00eaff;
      text-align: center;
    }
    input[type="tel"],
    input[type="number"] {
      width: calc(100% - 24px);
      padding: 12px;
      border-radius: 8px;
      border: 2px solid #00eaff55;
      background: #000a10;
      color: #00eaff;
      font-size: 18px;
      box-shadow: 0 0 8px #00eaff55 inset;
      transition: border-color 0.3s;
      outline: none;
      text-align: center;
    }
    input[type="tel"]:focus,
    input[type="number"]:focus {
      border-color: #00eaff;
      box-shadow: 0 0 15px #00eaffaa, 0 0 15px #00eaffaa inset;
    }
    .btn {
      width: 100%;
      padding: 18px;
      border-radius: 12px;
      background: #003a44;
      color: #00eaff;
      font-size: 24px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      text-shadow: 0 0 10px #00eaff;
      box-shadow: 0 0 15px #00eaff88 inset;
      transition: 0.3s;
      margin-top: 20px;
      letter-spacing: 3px;
    }
    .btn:hover {
      transform: scale(1.02);
      box-shadow: 0 0 30px #00eaffaa, 0 0 40px #00eaff99 inset;
      background: #004a55;
    }
    #status-message {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      font-size: 16px;
      text-align: center;
      font-weight: bold;
      min-height: 20px;
      color: #00eaff;
      text-shadow: 0 0 5px #00eaff;
    }
  </style>
</head>
<body>

  <header>SPECIAL CELL - SMS B00M</header>

  <div class="boom-container">
    
    <div class="form-group">
      <label for="phoneNumber">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ü‡¶ø ‡¶¶‡¶ø‡¶®...</label>
      <input type="tel" id="phoneNumber" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: 88017********" required>
    </div>

    <div class="form-group">
        <label for="amount">‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ (‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö 5)</label>
        <input type="number" id="amount" placeholder="‡ßß ‡¶•‡ßá‡¶ï‡ßá ‡ß´ ‡¶¶‡¶ø‡¶®" value="3" min="1" max="5" required>
    </div>

    <button class="btn" onclick="startBoom()">‡¶ó‡ßÅ‡¶§‡¶æ ‡¶¶‡¶ø‡¶®</button>
    
    <div id="status-message">‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®...</div>
  </div>
  
  <a href="special_dashboard.html" class="back-btn">‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶è ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a>

  <script>
    // ** ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü-‡¶∏‡¶æ‡¶á‡¶° ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ **
    (function(){
      try {
        var auth = sessionStorage.getItem('uca_auth');
      } catch(e) {
        var auth = null;
      }
      if (!auth) {
        var next = encodeURIComponent(location.pathname + location.search + location.hash);
        location.replace('index.html?next=' + next);
      }
    })();


    /**
     * ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶ì‡ßü‡¶æ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®: ‡¶®‡¶ø‡¶ú‡¶∏‡ßç‡¶¨ ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∏‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡¶ï‡ßá ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá‡•§
     */
    function startBoom() {
      // 1. Get Input Values
      const phoneNumber = document.getElementById('phoneNumber').value.trim();
      const amount = parseInt(document.getElementById('amount').value);
      const statusMessage = document.getElementById('status-message');
      const startButton = document.querySelector('.btn');

      // 2. Validation
      if (!phoneNumber || phoneNumber.length < 10 || isNaN(amount) || amount < 1 || amount > 5) {
        statusMessage.innerHTML = '<span style="color: #ff5555; text-shadow: 0 0 5px #ff0000;">‚ùå ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ (‡ßß-‡ß´) ‡¶¶‡¶ø‡¶®!</span>';
        return;
      }

      // 3. YOUR PROXY API URL
      // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá: http://localhost:3000/api/boom-proxy
      // ‡¶°‡¶ø‡¶™‡ßç‡¶≤‡ßü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞: https://your-deployed-server-name.com/api/boom-proxy
      const PROXY_API_URL = 'http://localhost:3000/api/boom-proxy'; 
      
      // 4. Update UI
      statusMessage.innerHTML = `<span style="color: #00eaff; text-shadow: 0 0 8px #00eaff;">üì° ${amount} ‡¶¨‡¶æ‡¶∞ ‡¶ó‡ßÅ‡¶§‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá (${phoneNumber})...</span>`;
      startButton.disabled = true;
      startButton.textContent = '‡¶ó‡ßÅ‡¶§‡¶æ ‡¶ö‡¶≤‡¶õ‡ßá...';
      startButton.style.background = '#aa00ff'; 
      startButton.style.boxShadow = '0 0 20px #aa00ffaa inset';

      // 5. Fetch call to YOUR PROXY SERVER
      fetch(PROXY_API_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        // ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ì ‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ POST ‡¶¨‡¶°‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶≤‡ßã
        body: JSON.stringify({
            number: phoneNumber,
            cycles: amount
        })
      })
      .then(response => response.json())
      .then(data => {
          if (data.status === 'success') {
              statusMessage.innerHTML = `
                  <span style="color: #33ff33; text-shadow: 0 0 10px #00ff00;">
                      ‚úÖ ‡¶ó‡ßÅ‡¶§‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶´‡¶∞‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!
                      <br>
                      ${data.cycles} ‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá (${data.target || phoneNumber}).
                  </span>
              `;
          } else {
              statusMessage.innerHTML = `
                  <span style="color: #ff5555; text-shadow: 0 0 5px #ff0000;">
                      ‚ùå ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∏‡¶ø ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø! : ${data.message || '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø‡•§'}
                  </span>
              `;
          }
      })
      .catch(error => {
          statusMessage.innerHTML = `
              <span style="color: #ff5555; text-shadow: 0 0 5px #ff0000;">
                  ‚ùå ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•‡¶§‡¶æ! ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∏‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
              </span>
          `;
          console.error('Fetch Error:', error);
      })
      .finally(() => {
          // 6. Reset button state
          setTimeout(() => { 
              startButton.disabled = false;
              startButton.textContent = '‡¶ó‡ßÅ‡¶§‡¶æ ‡¶¶‡¶ø‡¶®';
              startButton.style.background = '#003a44';
              startButton.style.boxShadow = '0 0 15px #00eaff88 inset';
          }, 3000); 
      });
    }
  </script>

</body>
</html>
